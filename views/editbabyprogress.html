<header-bar></header-bar>

<div class="page-header">
    <h1>Edit baby</h1>
    <h2>{{baby.name}}</h2>
</div>

<div class="container-fluid">
        <!-- dropdown to select what to change-->
        <label for="dropDownOptions">Choose a property to update</label>

        <select data-ng-model="baby.dropDownOption"
                id="dropDownOptions"
                data-ng-options="option for option in dropDownOptions"
                ng-change="changeProperty()">
        </select>




    <!-- table with values -->

    <table class="table table-bordered table-hover table-condensed" ng-init="init()">
        <tr style="font-weight: bold">
            <td style="width:35%">Date</td>
            <td style="width:20%">{{baby.dropDownOption}}</td>
            <td style="width:25%">Edit</td>
        </tr>
        <tr ng-repeat="property in arrayToDisplay  track by $index  ">
            <td>
                <!-- editable date  -->
            <span editable-date="property.date"
                  e-name="date"
                  e-form="enterProgressForm"
                  onbeforesave="checkDate($data)"
                  e-required>
              {{ property.date | date }}
            </span>
            </td>
            <td>
                <!-- editable value  -->
            <span editable-number="property.value"
                  e-name="value"
                  e-form="enterProgressForm"
                  onbeforesave="checkValue($data)"
                  e-required>
              {{ property.value | number }}

            </span>


            </td>
            <!-- white space-->
            <td style="white-space: nowrap">
                <!-- form -->
                <form editable-form
                      name="enterProgressForm"
                      ng-show="enterProgressForm.$visible"
                      class="form-buttons form-inline"
                      shown="newValue == property"
                      onbeforesave="checkDate($data)"
                      onbeforesave="checkValue($data)"
                      novalidate>
                    <button type="submit" ng-disabled="enterProgressForm.$waiting" class="btn btn-primary">
                        save
                    </button>
                    <button type="button"
                            ng-disabled="enterProgressForm.$waiting"
                            ng-click="enterProgressForm.$cancel()"
                            class="btn btn-default">
                        cancel
                    </button>
                </form>
                <div class="buttons" ng-show="!enterProgressForm.$visible">
                    <button class="btn btn-primary" ng-click="enterProgressForm.$show()">edit</button>
                    <button class="btn btn-danger" ng-click="removeValue($index)">del</button>
                </div>
            </td>
        </tr>
    </table>

    <button class="btn btn-default" ng-click="addValue()">Add value</button>
    <button class="btn btn-default" ng-click="saveProperties()">Save</button>
</div><!-- end of main div with container fluid-->
